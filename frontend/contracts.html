<!doctype html>
<html class="no-js" lang="">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title></title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="manifest" href="site.webmanifest">
  <link rel="apple-touch-icon" href="icon.png">
  <link rel="stylesheet" href="css/dashfront.css">
  <!-- Place favicon.ico in the root directory -->

  <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="css/contracts.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
</head>

<body>
    <nav class="navbar navbar-icon-top navbar-expand-lg">
  <div class="text-left">
              <a href="./dashfront.html"><img style = "max-width: 200px" src="./img/logoTop.png" alt="Armada Logo"></a>
  </div>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <form class="form-inline" style="width: 100%; margin-left: 25px;">
    <div class="input-group" style="width: 100%;">
        <div class="input-group-prepend">
    <span class="input-group-text" style="background-color: white; border-right: 0px;"><i class="fa fa-search"></i></span>
  </div>
      <input class="form-control mr-sm-2" type="text" placeholder="Search supply chain..." aria-label="Search" style="border-left: 0px;">
      </div>
    </form>
  </div>
</nav>
    <div class="container-fluid">
      <br/>
      <div class="row">
        <div class="col-lg-2" style="max-width: 12%;">
          <ul style="list-style-type:none">
            <li><a href="https://google.com"><i class="fa fa-ship text-muted fa-2x" style="font-size: 1.1em; width: 32px;"></i></a>Dashboard
            </li>
            <li><a href="https://google.com"><i class="fa fa-cubes text-muted fa-2x" style="font-size: 1.1em; width: 32px;"></i></a> Analytics
            </li>
            <li><a href="https://google.com"><i class="fa fa-envelope text-muted fa-2x" style="font-size: 1.1em; width: 32px;"></i></a>  Orders
            </li>
            <li><a href="https://google.com"><i class="fa fa-truck text-muted fa-2x" style="font-size: 1.1em; width: 32px;"></i></a> Routes
            </li>
            <li><a href="https://google.com"><i class="fa fa-btc text-muted fa-2x" style="font-size: 1.1em; width: 32px;"></i></a>  Tokens
            </li>
            <li><a href="https://google.com"><i class="fa fa-building text-muted fa-2x" style="font-size: 1.1em; width: 32px;"></i></a> Warehouses
            </li>
            <li><a href="https://google.com"><i class="fa fa-ship text-muted fa-2x" style="font-size: 1.1em; width: 32px;"></i></a> Sea
            </li>
            <li><a href="https://google.com"><i class="fa fa-truck text-muted fa-2x" style="font-size: 1.1em; width: 32px;"></i></a> Freight
            </li>
            <li><a href="https://google.com"><i class="fa fa-train text-muted fa-2x" style="font-size: 1.1em; width: 32px;"></i></a> Rail
            </li>
            <li><a href="https://google.com"><i class="fa fa-car text-muted fa-2x" style="font-size: 1.1em; width: 32px;"></i></a> Couriers
            </li>
            <li><a href="https://google.com"><i class="fa fa-plane text-muted fa-2x" style="font-size: 1.1em; width: 32px;"></i></a> Air
            </li>
          </ul>
        </div>
        <div class="col-lg-10">
        <div class="">
          <!-- Nav tabs -->
            <div class="row">
                <div class="col-md-12">
                    <br/>
                    <div class="card">
                        <div class="card-body">
                            <h4 class="card-title" style="float: left; margin-bottom: 0px;"><span class="origin"></span> ⟶ <span class="destination"></span><br/><small class="text-muted" style="font-size: 14px;"><i class="fa fa-users"></i> 4 | <i class="fa fa-clock-o"></i> Delivery - 9 days | <i class="fa fa-leaf"></i> Carbon Footprint Saved - 8%</small></h4>
<!--                             <a href="./dashfront.html"><button class="btn btn-lg btn-primary" style="float: right;">Sign All Contracts</button></a>
 -->                        <button id="contract" class="btn btn-lg btn-primary" style="float: right;">Sign All Contracts</button>
                            <div style="float:right; padding-right:5px;"id="fold"> <p id="fold_p">Cost: 14320 ARMD</p></div>
                            <a href= "dashfront.html"><button id="go" class="btn btn-lg btn-primary" style="visibility:hidden; float: right; ">Start Shipping</button></a>
                        </div>
                    </div>
                </div>
            </div>
            <br/>
            <div class="row">
                <div class="col-md-4">
                    <div class="stepper-container vertical">
                        <div class="stepper">
                            <div class="step active" data-toggle="tab" data-target="#contract-1" onclick="$('.stepper>.step').removeClass('active'); $(this).addClass('active');">
                                <div class="step-inner">
                                    <div class="step-rounded"><span><i class="fa fa-fw fa-check"></i></span></div>
                                </div>
                                <div class="step-content">
                                    <div class="card active" style="cursor: pointer;">
                                        <div class="card-body">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <h5 class="card-title"><span class="origin"></span> ⟶ Tokyo, Japan</h5>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6" style="border-right: 1px solid rgba(0,0,0,.1)">
                                                    <p class="card-text text-muted">
                                                        <small><b>Supply Chain Member</b></small><br/>
                                                        TGL
                                                    </p>
                                                    <p class="card-text text-muted" style="margin-bottom: 4px;">
                                                        <small><b>Remaining Space</b></small><br/>
                                                    </p>
                                                    <div class="progress" style="width:80%;">
                                                        <div class="progress-bar" role="progressbar" style="width: 25%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">25%</div>
                                                    </div>
                                                    <br/>
                                                    <p class="card-text text-muted"><small><b>Contract Period</b></small><br/>
                                                    Aug 31, 2018</p>
                                                </div>
                                                <div class="col-md-4">
                                                    <small class="text-muted"><b>Contract Hash</b> 0x49E033122C8300a6d5091ACf667494466eE4a9D2</small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <br/>
                                </div>
                            </div>
                            <div class="step" data-toggle="tab" data-target="#contract-2" onclick="$('.stepper>.step').removeClass('active'); $(this).addClass('active');">
                                <div class="step-inner">
                                    <div class="step-rounded"><span><i class="fa fa-fw fa-check"></i></span></div>
                                </div>
                                <div class="step-content">
                                    <div class="card" style="cursor: pointer;">
                                        <div class="card-body">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <h5 class="card-title">Tokyo, Japan ⟶ Taipei, Taiwan</h5>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6" style="border-right: 1px solid rgba(0,0,0,.1)">
                                                    <p class="card-text text-muted">
                                                        <small><b>Supply Chain Member</b></small><br/>
                                                        Alexander Logistics
                                                    </p>
                                                    <p class="card-text text-muted" style="margin-bottom: 4px;">
                                                        <small><b>Remaining Space</b></small><br/>
                                                    </p>
                                                    <div class="progress " style="width:80%;">
                                                        <div class="progress-bar" role="progressbar" style="width: 45%;" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100">45%</div>
                                                    </div>
                                                    <br/>
                                                    <p class="card-text text-muted"><small><b>Contract Period</b></small><br/>
                                                    Aug 31, 2018</p>
                                                </div>
                                                <div class="col-md-4">
                                                    <small class="text-muted"><b>Contract Hash</b> 0x49E033122C8300a6d5091ACf667494466eE4a9D2</small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <br/>
                                </div>
                            </div>
                            <div class="step" data-toggle="tab" data-target="#contract-3" onclick="$('.stepper>.step').removeClass('active'); $(this).addClass('active');">
                                <div class="step-inner">
                                    <div class="step-rounded"><span><i class="fa fa-fw fa-check"></i></span></div>
                                </div>
                                <div class="step-content">
                                    <div class="card" style="cursor: pointer;">
                                        <div class="card-body">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <h5 class="card-title">Taipei, Taiwan ⟶ <span class="destination"></h5>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6" style="border-right: 1px solid rgba(0,0,0,.1)">
                                                    <p class="card-text text-muted">
                                                        <small><b>Supply Chain Member</b></small><br/>
                                                        Alibaba
                                                    </p>
                                                    <p class="card-text text-muted" style="margin-bottom: 4px;">
                                                        <small><b>Remaining Space</b></small><br/>
                                                    </p>
                                                    <div class="progress" style="width:80%;">
                                                        <div class="progress-bar" role="progressbar" style="width: 67%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">75%</div>
                                                    </div>
                                                    <br/>
                                                    <p class="card-text text-muted"><small><b>Contract Period</b></small><br/>
                                                    Aug 31, 2018</p>
                                                </div>
                                                <div class="col-md-4">
                                                    <small class="text-muted"><b>Contract Hash</b> 0x49E033122C8300a6d5091ACf667494466eE4a9D2</small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <br/>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-8 tab-content">
                    <div class="card tab-pane active" id="contract-1">
                        <div class="card-body" style="min-height: 800px;">
                            <div class="row">
                                <div class="col-md-12">
                                    <h1 class="card-title"><span class="origin"></span> ⟶ Tokyo, Japan</h1>
                                    <br/>
                                    <h6>People sharing this chain:</h6>
                                    <div class="row">
                                        <div class="col-md-4" style="border-right: 1px solid #efefef;">
                                            <div class="card">
                                                <div class="card-body">
                                                  <img src="https://efund.ucdavis.edu/wp-content/uploads/2016/06/AAEAAQAAAAAAAAM_AAAAJDFjZjkxOWIzLWQyZGYtNDhmNi04NGNmLTUyNjJmMGMyNDNhMQ.jpg" alt="..." class="img-thumbnail" style="border-radius: 9px; max-width: 34px; border: none;">
                                                  Kent Makishima [you]
                                                  <br/>
                                                    <small>Items:</small>
                                                    <br/>
                                                    <span class="badge badge-dark"><small>Piscos</small></span>
                                                    <span class="badge badge-dark"><small>Clarendon Hills Astralis</small></span>
                                                    <span class="badge badge-dark"><small>Lapostolle Clos Apalta</small></span>
                                                    <span class="badge badge-dark"><small>Meiomi Pinot Noir</small></span>
                                                    <span class="badge badge-dark"><small>Snake</small></span>
                                                    <span class="badge badge-dark"><small>Cookies</small></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4" style="border-right: 1px solid #efefef;">
                                            <div class="card">
                                                <div class="card-body">
                                                  <img src="https://media.gq.com/photos/566ac3fec0f741b430e641e7/master/w_1481/elon-musk-gq-1215-01-sq.jpg" alt="..." class="img-thumbnail" style="border-radius: 9px; max-width: 34px; border: none;">
                                                  Elon Yao
                                                  <br/>

                                                    <small>Items:</small>
                                                    <br/>
                                                    <span class="badge badge-dark"><small>Snake</small></span>
                                                    <span class="badge badge-dark"><small>Anime</small></span>
                                                    <span class="badge badge-dark"><small>Snake</small></span>
                                                    <span class="badge badge-dark"><small>Soymilk</small></span>
                                                    <span class="badge badge-dark"><small>Tofu</small></span>
                                                    <span class="badge badge-dark"><small>eggs</small></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="card">
                                                <div class="card-body">
                                                    <img src="https://pbs.twimg.com/profile_images/1023979936380596224/ENR5fZWx_400x400.jpg" alt="..." class="img-thumbnail" style="border-radius: 9px; max-width: 34px; border: none;">
                                                    Katy Meow
                                                    <br/>
                                                    <small>Items:</small>
                                                    <br/>
                                                    <span class="badge badge-dark"><small>Sake</small></span>
                                                    <span class="badge badge-dark"><small>Vodka</small></span>
                                                    <span class="badge badge-dark"><small>Snake</small></span>
                                                    <span class="badge badge-dark"><small>Water</small></span>
                                                    <span class="badge badge-dark"><small>Tomatoes</small></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <hr/>
                            <br/>
                            <div class="row">
                                <div class="col-md-7">
                                    <h5>Contract</h5>
                                    <div class="card" style="box-shadow: none;">
                                        <div class="card-body">
                                            <img src="http://www.rockin-v-stables.com/images/ex-cert-of-ins.png?crc=4127362390" style="width: 100%;">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-5">
                                    <h5>Details:</h5>
                                    <div class="card" style="box-shadow: none;">
                                        <div class="card-body">
                                            <h5 class="card-title">1400 $ARMD</h5>
                                            <p class="card-text">1400 $ARMD insurance will be provided for assurance of products reaching port. Will not deduct for condition of the product. </p>
                                            <h5 class="card-title">Insurance</h5>
                                            <p class="card-text">1400 ARMD insurance will be provided for assurance of products reaching port. Will not deduct for condition of the product. </p>
                                        </div>
                                    </div>
                                    <br/>
                                    <div class="card" style="box-shadow: none;">
                                        <div class="card-body">
                                            <h5 class="card-title">Technologies</h5>
                                            <p class="card-text">IOT Tech will be available for temperature and light monitoring. Refrigeration is provided in specific crates.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card tab-pane" id="contract-2">
                        <div class="card-body" style="min-height: 800px;">
                            <div class="row">
                                <div class="col-md-12">
                                    <h1 class="card-title">Tokyo, Japan ⟶ Taipei, Taiwan</h1>
                                    <br/>
                                    <h6>People sharing this chain:</h6>
                                    <div class="row">
                                        <div class="col-md-4" style="border-right: 1px solid #efefef;">
                                            <div class="card">
                                                <div class="card-body">
                                                    <img src="https://media.gq.com/photos/566ac3fec0f741b430e641e7/master/w_1481/elon-musk-gq-1215-01-sq.jpg" alt="..." class="img-thumbnail" style="border-radius: 9px; max-width: 34px; border: none;">
                                                    Elon Musk
                                                    <br/>
                                                    <small>Items:</small>
                                                    <br/>
                                                    <span class="badge badge-dark"><small>Snake</small></span>
                                                    <span class="badge badge-dark"><small>Chicken</small></span>
                                                    <span class="badge badge-dark"><small>Soymilk</small></span>
                                                    <span class="badge badge-dark"><small>Tofu</small></span>
                                                    <span class="badge badge-dark"><small>eggs</small></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4" style="border-right: 1px solid #efefef;">
                                            <div class="card">
                                                <div class="card-body">
                                                    <img src="https://media.gq.com/photos/566ac3fec0f741b430e641e7/master/w_1481/elon-musk-gq-1215-01-sq.jpg" alt="..." class="img-thumbnail" style="border-radius: 9px; max-width: 34px; border: none;">
                                                    Elon Musk
                                                    <br/>
                                                    <small>Items:</small>
                                                    <br/>
                                                    <span class="badge badge-dark"><small>Eggs</small></span>
                                                    <span class="badge badge-dark"><small>Bacon</small></span>
                                                    <span class="badge badge-dark"><small>Beef</small></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="card">
                                                <div class="card-body">
                                                    <img src="https://media.gq.com/photos/566ac3fec0f741b430e641e7/master/w_1481/elon-musk-gq-1215-01-sq.jpg" alt="..." class="img-thumbnail" style="border-radius: 9px; max-width: 34px; border: none;">
                                                    Elon Musk
                                                    <br/>
                                                    <small>Items:</small>
                                                    <br/>
                                                    <span class="badge badge-dark"><small>Snake</small></span>
                                                    <span class="badge badge-dark"><small>Books</small></span>
                                                    <span class="badge badge-dark"><small>Cookie</small></span>
                                                    <span class="badge badge-dark"><small>Eggs</small></span>
                                                    <span class="badge badge-dark"><small>Broccoli</small></span>
                                                    <span class="badge badge-dark"><small>Spinach</small></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <hr/>
                            <br/>
                            <div class="row">
                                <div class="col-md-7">
                                    <h5>Contract</h5>
                                    <div class="card" style="box-shadow: none;">
                                        <div class="card-body">
                                            <img src="http://www.rockin-v-stables.com/images/ex-cert-of-ins.png?crc=4127362390" style="width: 100%;">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-5">
                                    <h5>Details:</h5>
                                    <div class="card" style="box-shadow: none;">
                                        <div class="card-body">
                                            <h5 class="card-title">Insurance</h5>
                                            <p class="card-text">2000 ARMD will be provided for insurance against damages of product on route. This will be determined by IOT/Oracle reportings against safe ranges for product. Appropriate deductions will be made for exceeding range.</p>
                                        </div>
                                    </div>
                                    <br/>
                                    <div class="card" style="box-shadow: none;">
                                        <div class="card-body">
                                            <h5 class="card-title">Technologies</h5>
                                            <p class="card-text">IOT is available on this route, temperature and light will be monitored.</p>
                                        </div>
                                    </div>
                                    <br/>
                                    <div class="card" style="box-shadow: none;">
                                        <div class="card-body">
                                            <h5 class="card-title">Green Vessel</h5>
                                            <p class="card-text">This route uses a eco-friendly vehicle, greatly reducing carbon emissions.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card tab-pane" id="contract-3">
                        <div class="card-body" style="min-height: 800px;">
                            <div class="row">
                                <div class="col-md-12">
                                    <h1 class="card-title">Taipei, Taiwan ⟶ <span class="destination"></h1>
                                    <br/>
                                    <h6>People sharing this chain:</h6>
                                    <div class="row">
                                        <div class="col-md-4" style="border-right: 1px solid #efefef;">
                                            <div class="card">
                                                <div class="card-body">
                                                    <img src="https://media.gq.com/photos/566ac3fec0f741b430e641e7/master/w_1481/elon-musk-gq-1215-01-sq.jpg" alt="..." class="img-thumbnail" style="border-radius: 9px; max-width: 34px; border: none;">
                                                    Elon Musk
                                                    <br/>
                                                    <small>Items:</small>
                                                    <br/>
                                                    <span class="badge badge-dark"><small>Snake</small></span>
                                                    <span class="badge badge-dark"><small>Snake</small></span>
                                                    <span class="badge badge-dark"><small>Snake</small></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4" style="border-right: 1px solid #efefef;">
                                            <div class="card">
                                                <div class="card-body">
                                                    <img src="https://media.gq.com/photos/566ac3fec0f741b430e641e7/master/w_1481/elon-musk-gq-1215-01-sq.jpg" alt="..." class="img-thumbnail" style="border-radius: 9px; max-width: 34px; border: none;">
                                                    Elon Musk
                                                    <br/>
                                                    <small>Items:</small>
                                                    <br/>
                                                    <span class="badge badge-dark"><small>Snake</small></span>
                                                    <span class="badge badge-dark"><small>Snake</small></span>
                                                    <span class="badge badge-dark"><small>Snake</small></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="card">
                                                <div class="card-body">
                                                    <img src="https://media.gq.com/photos/566ac3fec0f741b430e641e7/master/w_1481/elon-musk-gq-1215-01-sq.jpg" alt="..." class="img-thumbnail" style="border-radius: 9px; max-width: 34px; border: none;">
                                                    Elon Musk
                                                    <br/>
                                                    <small>Items:</small>
                                                    <br/>
                                                    <span class="badge badge-dark"><small>Snake</small></span>
                                                    <span class="badge badge-dark"><small>Snake</small></span>
                                                    <span class="badge badge-dark"><small>Snake</small></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <hr/>
                            <br/>
                            <div class="row">
                                <div class="col-md-7">
                                    <h5>Contract</h5>
                                    <div class="card" style="box-shadow: none;">
                                        <div class="card-body">
                                            <img src="http://www.rockin-v-stables.com/images/ex-cert-of-ins.png?crc=4127362390" style="width: 100%;">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-5">
                                    <h5>Group Collab Contract</h5>
                                    <div class="card" style="box-shadow: none;">
                                        <div class="card-body">
                                            <h5 class="card-title">Card title</h5>
                                            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                                        </div>
                                    </div>
                                    <br/>
                                    <div class="card" style="box-shadow: none;">
                                        <div class="card-body">
                                            <h5 class="card-title">Card title</h5>
                                            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                                        </div>
                                    </div>
                                    <br/>
                                    <div class="card" style="box-shadow: none;">
                                        <div class="card-body">
                                            <h5 class="card-title">Card title</h5>
                                            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="js/main.js"></script>
<script src="js/nkn.min.js"></script>
<script>
    $(document).ready(function () {
        $("#contract").click(function () {
            $("#fold_p").fadeOut(function () {
                $("#fold_p").text(($("#fold_p").text() == 'Fold it') ? 'Transaction: 0x91394130501439194391521' : 'Transaction: 0x91394130501439194391521').fadeIn();
            })
            $("#contract").fadeOut(function () {
                $("#contract").text(($("#contract").text() == 'Fold it') ? 'Transaction: 0x91394130501439194391521' : 'Completed').fadeIn();
            })
        })
    });
</script>
<script type="text/javascript">
    var contract = document.getElementById("contract");
    var go = document.getElementById("go");

    contract.onclick = function() {
        go.style.visibility = "visible";
    }
</script>
<script>
    const crypto = require('crypto');
    const nkn = require('../lib/nkn');

    const timeout = 5000;
    var timeSent, timeReceived;

    function generateMessage() {
      let fromClient = nkn({
        identifier: crypto.randomBytes(8).toString('hex'),
        privateKey: '',
      });
      //fromClient and toClient will be filled in automatically. 
      fromClient.on('connect', () => {
        try {
          let toClient = nkn();
          toClient.on('connect', () => {
            try {

                // TODO(kmangutov/bwonymph): origin and destination need to be loaded dynamically. contracts.js has example to access
              fromClient.send(
                toClient.addr,
                'Your contract was accepted, for the Austin <> Shanghai Route',
              ).then(() => {
                timeReceived = new Date();
                console.log('Receive ACK from', toClient.addr, 'after', timeReceived - timeSent, 'ms');
              }).catch((e) => {
                console.log('Catch: ', e);
              });
              timeSent = new Date();
              console.log('Send message from', fromClient.addr, 'to', toClient.addr);
              setTimeout(function () {
                try {
                  toClient.close();
                  if (timeReceived === undefined) {
                    console.log('Message from', fromClient.nodeAddr, 'to', toClient.nodeAddr, 'timeout');
                  }
                } catch (e) {
                  console.error(e);
                }
              }, timeout);
            } catch (e) {
              console.error(e);
            }
          });
          toClient.on('message', (src, payload) => {
            timeReceived = new Date();
            console.log('Receive message from', src, 'after', timeReceived - timeSent, 'ms');
          });
          setTimeout(function () {
            try {
              fromClient.close();
            } catch (e) {
              console.error(e);
            }
          }, timeout);
        } catch (e) {
          console.error(e);
        }
      });
    }

    generateMessage();
</script>
<script>
$.ajax({
      type: "POST",
      url: "http://yourdomain.com/example.php",
      data: {
        curl -X POST --data '{
          "jsonrpc": "2.0",
          "method": "sendTransaction",
          "params": {
            "nonce": "0x4",
            "gasPrice": "0x2540be400",  // 10 Gwei
            "gas": "0x7530",  // 30000
            "value": "0xde0b6b3a7640000",  // 1 QKC
            "data": "0x",
            "fromFullShardId": "0x19e189ec",
            "toFullShardId": "0x18f9ba2c",
            "networkId": "0x3",
            "to": " 0xD59F5C348D4fc623166dD741D122cf4966D6391bcE53f5B6",
          },
          "id": 1
        }'

        // Result
        {
            "jsonrpc": "2.0",
            "result": "0xa786dc17bf8b302d8678666e5f97290c6467c4302a0a1402cb7693267152402519e189ec",
            "id": 1
        }

      },
      success: function(data) {
        console.log(data);
        //do something when request is successfull
      },
      dataType: "json"
    });
</script>
<!-- Load selected origin/destination -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/lockr/0.8.4/lockr.min.js"></script>
<script src="js/contracts.js"></script>
</body>

</html>
